<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	template="/stylesheets/template.xhtml">
	<ui:define name="content">
		<h:form id="addForm" styleClass="form-horizontal">
			<div class="row">
				<div class="panel">
					<div class="page-header panel-heading">
						<span class="h4">Ajouter une recette</span>
						<p:outputPanel id="step1FormButtons" layout="block"
							styleClass="actions pull-right ">
								<p:commandLink rel="tooltip" title="Enregistrer"
		                            styleClass="btn btn-small rnd green">
		                            <span class="icon-save" />
	                            </p:commandLink>
		                        <p:commandLink rel="tooltip" title="Annuler" immediate="true"
		                            action="#{recipeController.goList}"
		                            styleClass="btn btn-small rnd">
		                            <span class="icon-remove" />
		                        </p:commandLink>
						</p:outputPanel>
					</div>
					<div class="control-group">
						<p:outputLabel for="newRecipeName" value="Nom"
							styleClass="control-label" />
						<div class="controls">
							<h:inputText id="newRecipeName"
								value="#{recipeController.newRecipe.name}" required="true"
								maxlength="255" />
						</div>
					</div>
					<div class="control-group">
						<p:outputLabel for="newRecipeDesc" value="Description"
							styleClass="control-label" />
						<div class="controls">
							<h:inputTextarea id="newRecipeDesc"
								value="#{recipeController.newRecipe.description}" />
						</div>
					</div>
					<div class="panel">
						<div class="page-header panel-heading">
							<span class="h5">Définir une étape</span>
							<p:outputPanel id="step2FormButtons" layout="block"
								styleClass="actions pull-right ">
									<p:commandLink rel="tooltip" title="Ajouter"
			                            styleClass="btn btn-small rnd blue">
			                            <span class="icon-ok" />
									</p:commandLink>
							</p:outputPanel>
						</div>
												
						<h5>Ingrédients</h5>
						<h:panelGrid columns="4" styleClass="table table-condensed table-striped">
							<p:outputLabel value="Ingrédient"
								for="ingredient"
								styleClass="control-label" />
							<p:outputLabel value="Quantité"
								styleClass="control-label" />
							<p:outputLabel value="Unité"
								styleClass="control-label" />
							<h:panelGroup />
							
							<h:panelGroup rendered="#{empty recipeController.ingredients}">
								<a href="/ingredients/add" class="btn stripe">Ajouter un ingrédient</a>
							</h:panelGroup>
							<h:selectOneMenu id="ingredient" styleClass="selectpicker show-tick" title="Sélectionnez une valeur" rendered="#{not empty recipeController.ingredients}">
                                <f:selectItem itemValue="" itemLabel="" />
								<f:selectItems value="#{recipeController.ingredients}" var="ingredient" itemLabel="#{ingredient.name}" itemValue="#{ingredient.id}" />
							</h:selectOneMenu>
							<p:spinner min="1" size="3"  />
							<h:selectOneMenu id="unity" styleClass="selectpicker show-tick" >
								<f:selectItem itemValue="g" itemLabel="g" />
								<f:selectItem itemValue="cl" itemLabel="cl" />
							</h:selectOneMenu>
							
							<h:panelGroup styleClass="pull-right">
							<p:commandLink rel="tooltip" title="Valider"
	                            styleClass="btn rnd">
	                            <span class="icon-ok" />
							</p:commandLink>
							</h:panelGroup>
						</h:panelGrid>
						<hr />
						
						<h5>Instructions</h5>
						<h:inputTextarea id="stepInstructions" styleClass="editor"
							value="#{recipeController.newStep.instructions}" />
<!-- 						styleClass="editor" -->
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>